@startuml

title UC5 - ESPECIFICAR COLABORADOR DE ORGANIZAÇÃO

actor GestorOrganizacao as GestorOrganizacao
GestorOrganizacao -> "AreaGestorUI" : 1 Introduz os dados solicitados
activate "AreaGestorUI"
"AreaGestorUI" -> "RegistarColaboradorController" : 2 registarColaborador(String nomeColaborador, int contactoColaborador, String emailColaborador, String gestorEmail)
activate "RegistarColaboradorController"
"RegistarColaboradorController" -> ":Plataforma" : 3 plat = Plataforma.getInstance()
activate ":Plataforma"
deactivate ":Plataforma"
"RegistarColaboradorController" -> "ro:RepositorioOrganizacao" : 4 repoOrg = plat.getRepoOrg()
activate "ro:RepositorioOrganizacao"
deactivate "ro:RepositorioOrganizacao"
"RegistarColaboradorController" -> "rc:RepositorioColaborador" : 5 repoColab = plat.getRepoColab()
activate "rc:RepositorioColaborador"
deactivate "rc:RepositorioColaborador"
"rc:RepositorioColaborador" -> Email** : 15 gestorEmail = create(email)
activate "rc:RepositorioColaborador"


"RegistarColaboradorController" -> "rc:RepositorioColaborador" : 6 gestor = getColaboradorByEmail(gestorEmail)

deactivate "rc:RepositorioColaborador"
"RegistarColaboradorController" -> "ro:RepositorioOrganizacao" : 13 org = getOrganizacaoByGestor(gestor)
"RegistarColaboradorController" -> "rc:RepositorioColaborador" : colaborador = repoColab.criarColaborador(nomeColaborador, contactoColaborador, emailColaborador, org)
activate "rc:RepositorioColaborador"
"rc:RepositorioColaborador" -> Colaborador** : criarColaborador(nomeColaborador, contactoColaborador, emailColaborador, org)



"RegistarColaboradorController" -> "rc:RepositorioColaborador" : addColaborador(colaborador)
deactivate "rc:RepositorioColaborador"
"rc:RepositorioColaborador" --> "RegistarColaboradorController" : ok

activate "rc:RepositorioColaborador"

"rc:RepositorioColaborador" -> Telefone** : 14 create(telefone)

"rc:RepositorioColaborador" -> Email : 15 create(email)
activate Email
deactivate Email

ref over RegistarColaboradorController, Colaborador : UC5_SD_RegistarColaboradorComoUtilizador
deactivate "RegistarColaboradorController"
"AreaGestorUI" --> GestorOrganizacao : 23 operação bem sucedida, \n mostra dados
deactivate "AreaGestorUI"

@enduml